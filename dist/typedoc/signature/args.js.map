{"version":3,"file":"args.js","sources":["../../../src/typedoc/signature/args.gts"],"sourcesContent":["import { template } from \"@ember/template-compiler\";\nimport { Comment, isIntrinsic, isNamedTuple, Type } from '../renderer.gts';\nimport type { TOC } from '@ember/component/template-only';\nimport type { DeclarationReflection } from 'typedoc';\nconst not = (x1: unknown)=>!x1;\nconst isComponent = (kind1: 'component' | 'modifier' | 'helper')=>kind1 === 'component';\n/**\n * Only components' args are prefixed with a `@`,\n * because only components have template-content.\n */ export const Args: TOC<{\n    Args: {\n        kind: 'component' | 'modifier' | 'helper';\n        info: any;\n    };\n}> = template(`\n  {{#if @info}}\n    <h3 class='typedoc__heading'>Arguments</h3>\n    {{#each (listifyArgs @info) as |child|}}\n      <span class='typedoc__{{@kind}}-signature__arg'>\n        <span class='typedoc__{{@kind}}-signature__arg-info'>\n          <pre class='typedoc__name'>{{if\n              (isComponent @kind)\n              '@'\n            }}{{child.name}}</pre>\n          {{#if (isIntrinsic child.type)}}\n            <Type @info={{child.type}} />\n          {{else if (isNamedTuple child)}}\n            <Type @info={{child.element}} />\n          {{/if}}\n        </span>\n        {{#if (not (isIntrinsic child.type))}}\n          <Type @info={{child.type}} />\n        {{else if (isNamedTuple child)}}\n          <Type @info={{child.element}} />\n        {{else}}\n          <Comment @info={{child}} />\n        {{/if}}\n      </span>\n    {{/each}}\n  {{/if}}\n`, {\n    eval () {\n        return eval(arguments[0]);\n    }\n});\nfunction listifyArgs(info1: DeclarationReflection): any[] {\n    if (!info1) return [];\n    if (Array.isArray(info1)) {\n        return info1;\n    }\n    /**\n   * This object *may* have Named and Positional on them,\n   * in which case, we want to create [...Postiional, Named]\n   */ if ('children' in info1 && Array.isArray(info1.children)) {\n        if (info1.children.length <= 2) {\n            let flattened1 = flattenArgs(info1.children);\n            if (flattened1.length > 0) {\n                return flattened1;\n            }\n        }\n        return info1.children;\n    }\n    if (info1.type && 'declaration' in info1.type && info1.type.declaration) {\n        return listifyArgs(info1.type.declaration);\n    }\n    // eslint-disable-next-line no-console\n    console.warn('unhandled', info1);\n    return [];\n}\nfunction flattenArgs(args1: any[]): any[] {\n    let named1 = args1.find((x1)=>x1.name === 'Named');\n    let positional1 = args1.find((x1)=>x1.name === 'Positional');\n    let result1 = [];\n    if (positional1) {\n        result1.push(positional1.type?.elements);\n    }\n    if (named1) {\n        result1.push(named1);\n    }\n    return result1.flat();\n}\n/**\n * Returns args for either a function or signature\n */ export function getArgs(info1: any) {\n    if ('parameters' in info1) {\n        return info1.parameters;\n    }\n    if (Array.isArray(info1)) {\n        return info1.find((item1)=>item1.name === 'Args');\n    }\n    if ('children' in info1) {\n        return getArgs(info1.children);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2tvbGF5L2tvbGF5L3VpL3NyYy90eXBlZG9jL3NpZ25hdHVyZS9hcmdzLmd0cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21tZW50LCBpc0ludHJpbnNpYywgaXNOYW1lZFR1cGxlLCBUeXBlIH0gZnJvbSAnLi4vcmVuZGVyZXIuZ3RzJztcblxuaW1wb3J0IHR5cGUgeyBUT0MgfSBmcm9tICdAZW1iZXIvY29tcG9uZW50L3RlbXBsYXRlLW9ubHknO1xuaW1wb3J0IHR5cGUgeyBEZWNsYXJhdGlvblJlZmxlY3Rpb24gfSBmcm9tICd0eXBlZG9jJztcblxuY29uc3Qgbm90ID0gKHg6IHVua25vd24pID0-ICF4O1xuXG5jb25zdCBpc0NvbXBvbmVudCA9IChraW5kOiAnY29tcG9uZW50JyB8ICdtb2RpZmllcicgfCAnaGVscGVyJykgPT5cbiAga2luZCA9PT0gJ2NvbXBvbmVudCc7XG5cbi8qKlxuICogT25seSBjb21wb25lbnRzJyBhcmdzIGFyZSBwcmVmaXhlZCB3aXRoIGEgYEBgLFxuICogYmVjYXVzZSBvbmx5IGNvbXBvbmVudHMgaGF2ZSB0ZW1wbGF0ZS1jb250ZW50LlxuICovXG5leHBvcnQgY29uc3QgQXJnczogVE9DPHtcbiAgQXJnczogeyBraW5kOiAnY29tcG9uZW50JyB8ICdtb2RpZmllcicgfCAnaGVscGVyJzsgaW5mbzogYW55IH07XG59PiA9IDx0ZW1wbGF0ZT5cbiAge3sjaWYgQGluZm99fVxuICAgIDxoMyBjbGFzcz0ndHlwZWRvY19faGVhZGluZyc-QXJndW1lbnRzPC9oMz5cbiAgICB7eyNlYWNoIChsaXN0aWZ5QXJncyBAaW5mbykgYXMgfGNoaWxkfH19XG4gICAgICA8c3BhbiBjbGFzcz0ndHlwZWRvY19fe3tAa2luZH19LXNpZ25hdHVyZV9fYXJnJz5cbiAgICAgICAgPHNwYW4gY2xhc3M9J3R5cGVkb2NfX3t7QGtpbmR9fS1zaWduYXR1cmVfX2FyZy1pbmZvJz5cbiAgICAgICAgICA8cHJlIGNsYXNzPSd0eXBlZG9jX19uYW1lJz57e2lmXG4gICAgICAgICAgICAgIChpc0NvbXBvbmVudCBAa2luZClcbiAgICAgICAgICAgICAgJ0AnXG4gICAgICAgICAgICB9fXt7Y2hpbGQubmFtZX19PC9wcmU-XG4gICAgICAgICAge3sjaWYgKGlzSW50cmluc2ljIGNoaWxkLnR5cGUpfX1cbiAgICAgICAgICAgIDxUeXBlIEBpbmZvPXt7Y2hpbGQudHlwZX19IC8-XG4gICAgICAgICAge3tlbHNlIGlmIChpc05hbWVkVHVwbGUgY2hpbGQpfX1cbiAgICAgICAgICAgIDxUeXBlIEBpbmZvPXt7Y2hpbGQuZWxlbWVudH19IC8-XG4gICAgICAgICAge3svaWZ9fVxuICAgICAgICA8L3NwYW4-XG4gICAgICAgIHt7I2lmIChub3QgKGlzSW50cmluc2ljIGNoaWxkLnR5cGUpKX19XG4gICAgICAgICAgPFR5cGUgQGluZm89e3tjaGlsZC50eXBlfX0gLz5cbiAgICAgICAge3tlbHNlIGlmIChpc05hbWVkVHVwbGUgY2hpbGQpfX1cbiAgICAgICAgICA8VHlwZSBAaW5mbz17e2NoaWxkLmVsZW1lbnR9fSAvPlxuICAgICAgICB7e2Vsc2V9fVxuICAgICAgICAgIDxDb21tZW50IEBpbmZvPXt7Y2hpbGR9fSAvPlxuICAgICAgICB7ey9pZn19XG4gICAgICA8L3NwYW4-XG4gICAge3svZWFjaH19XG4gIHt7L2lmfX1cbjwvdGVtcGxhdGU-O1xuXG5mdW5jdGlvbiBsaXN0aWZ5QXJncyhpbmZvOiBEZWNsYXJhdGlvblJlZmxlY3Rpb24pOiBhbnlbXSB7XG4gIGlmICghaW5mbykgcmV0dXJuIFtdO1xuXG4gIGlmIChBcnJheS5pc0FycmF5KGluZm8pKSB7XG4gICAgcmV0dXJuIGluZm87XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBvYmplY3QgKm1heSogaGF2ZSBOYW1lZCBhbmQgUG9zaXRpb25hbCBvbiB0aGVtLFxuICAgKiBpbiB3aGljaCBjYXNlLCB3ZSB3YW50IHRvIGNyZWF0ZSBbLi4uUG9zdGlpb25hbCwgTmFtZWRdXG4gICAqL1xuICBpZiAoJ2NoaWxkcmVuJyBpbiBpbmZvICYmIEFycmF5LmlzQXJyYXkoaW5mby5jaGlsZHJlbikpIHtcbiAgICBpZiAoaW5mby5jaGlsZHJlbi5sZW5ndGggPD0gMikge1xuICAgICAgbGV0IGZsYXR0ZW5lZCA9IGZsYXR0ZW5BcmdzKGluZm8uY2hpbGRyZW4pO1xuXG4gICAgICBpZiAoZmxhdHRlbmVkLmxlbmd0aCA-IDApIHtcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5lZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5mby5jaGlsZHJlbjtcbiAgfVxuXG4gIGlmIChpbmZvLnR5cGUgJiYgJ2RlY2xhcmF0aW9uJyBpbiBpbmZvLnR5cGUgJiYgaW5mby50eXBlLmRlY2xhcmF0aW9uKSB7XG4gICAgcmV0dXJuIGxpc3RpZnlBcmdzKGluZm8udHlwZS5kZWNsYXJhdGlvbik7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICBjb25zb2xlLndhcm4oJ3VuaGFuZGxlZCcsIGluZm8pO1xuXG4gIHJldHVybiBbXTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbkFyZ3MoYXJnczogYW55W10pOiBhbnlbXSB7XG4gIGxldCBuYW1lZCA9IGFyZ3MuZmluZCgoeCkgPT4geC5uYW1lID09PSAnTmFtZWQnKTtcbiAgbGV0IHBvc2l0aW9uYWwgPSBhcmdzLmZpbmQoKHgpID0-IHgubmFtZSA9PT0gJ1Bvc2l0aW9uYWwnKTtcblxuICBsZXQgcmVzdWx0ID0gW107XG5cbiAgaWYgKHBvc2l0aW9uYWwpIHtcbiAgICByZXN1bHQucHVzaChwb3NpdGlvbmFsLnR5cGU_LmVsZW1lbnRzKTtcbiAgfVxuXG4gIGlmIChuYW1lZCkge1xuICAgIHJlc3VsdC5wdXNoKG5hbWVkKTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQuZmxhdCgpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYXJncyBmb3IgZWl0aGVyIGEgZnVuY3Rpb24gb3Igc2lnbmF0dXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcmdzKGluZm86IGFueSkge1xuICBpZiAoJ3BhcmFtZXRlcnMnIGluIGluZm8pIHtcbiAgICByZXR1cm4gaW5mby5wYXJhbWV0ZXJzO1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkoaW5mbykpIHtcbiAgICByZXR1cm4gaW5mby5maW5kKChpdGVtKSA9PiBpdGVtLm5hbWUgPT09ICdBcmdzJyk7XG4gIH1cblxuICBpZiAoJ2NoaWxkcmVuJyBpbiBpbmZvKSB7XG4gICAgcmV0dXJuIGdldEFyZ3MoaW5mby5jaGlsZHJlbik7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsU0FBUyxPQUFPLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxJQUFJLFFBQVEsa0JBQWtCO0FBRTNFLGNBQWMsR0FBRyxRQUFRLGlDQUFpQztBQUMxRCxjQUFjLHFCQUFxQixRQUFRLFVBQVU7QUFFckQsTUFBTSxNQUFNLENBQUMsSUFBRyxPQUFPLEdBQUssQ0FBQztBQUU3QixNQUFNLGNBQWMsQ0FBQyxPQUFNLGNBQWMsYUFBYSxXQUNwRCxVQUFTO0FBRVg7OztDQUdDLEdBQ0QsT0FBTyxNQUFNLE1BQU07SUFDakI7UUFBUSxNQUFNLGNBQWMsYUFBYTtRQUFVLE1BQU0sR0FBRzs7S0FDekQsU0FBVSxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTBCZixDQUFBLEVBQUE7SUFBQTtRQUFBLE9BQUEsS0FBQSxTQUFBLENBQUEsRUFBVztJQUFEO0FBQUEsR0FBRTtBQUVaLFNBQVMsWUFBWSxPQUFNLHFCQUFxQixHQUFHLEdBQUc7SUFDcEQsSUFBSSxDQUFDLE9BQU0sT0FBTyxFQUFFO0lBRXBCLElBQUksTUFBTSxPQUFPLENBQUMsUUFBTztRQUN2QixPQUFPO0lBQ1Q7SUFFQTs7O0dBR0MsR0FDRCxJQUFJLGNBQWMsU0FBUSxNQUFNLE9BQU8sQ0FBQyxNQUFLLFFBQVEsR0FBRztRQUN0RCxJQUFJLE1BQUssUUFBUSxDQUFDLE1BQU0sSUFBSSxHQUFHO1lBQzdCLElBQUksYUFBWSxZQUFZLE1BQUssUUFBUTtZQUV6QyxJQUFJLFdBQVUsTUFBTSxHQUFHLEdBQUc7Z0JBQ3hCLE9BQU87WUFDVDtRQUNGO1FBRUEsT0FBTyxNQUFLLFFBQVE7SUFDdEI7SUFFQSxJQUFJLE1BQUssSUFBSSxJQUFJLGlCQUFpQixNQUFLLElBQUksSUFBSSxNQUFLLElBQUksQ0FBQyxXQUFXLEVBQUU7UUFDcEUsT0FBTyxZQUFZLE1BQUssSUFBSSxDQUFDLFdBQVc7SUFDMUM7SUFFQSxzQ0FBc0M7SUFDdEMsUUFBUSxJQUFJLENBQUMsYUFBYTtJQUUxQixPQUFPLEVBQUU7QUFDWDtBQUVBLFNBQVMsWUFBWSxPQUFNLEdBQUcsRUFBRSxHQUFHLEdBQUc7SUFDcEMsSUFBSSxTQUFRLE1BQUssSUFBSSxDQUFDLENBQUMsS0FBTSxHQUFFLElBQUksS0FBSztJQUN4QyxJQUFJLGNBQWEsTUFBSyxJQUFJLENBQUMsQ0FBQyxLQUFNLEdBQUUsSUFBSSxLQUFLO0lBRTdDLElBQUksVUFBUyxFQUFFO0lBRWYsSUFBSSxhQUFZO1FBQ2QsUUFBTyxJQUFJLENBQUMsWUFBVyxJQUFJLEVBQUU7SUFDL0I7SUFFQSxJQUFJLFFBQU87UUFDVCxRQUFPLElBQUksQ0FBQztJQUNkO0lBRUEsT0FBTyxRQUFPLElBQUk7QUFDcEI7QUFFQTs7Q0FFQyxHQUNELE9BQU8sU0FBUyxRQUFRLE9BQU0sR0FBRztJQUMvQixJQUFJLGdCQUFnQixPQUFNO1FBQ3hCLE9BQU8sTUFBSyxVQUFVO0lBQ3hCO0lBRUEsSUFBSSxNQUFNLE9BQU8sQ0FBQyxRQUFPO1FBQ3ZCLE9BQU8sTUFBSyxJQUFJLENBQUMsQ0FBQyxRQUFTLE1BQUssSUFBSSxLQUFLO0lBQzNDO0lBRUEsSUFBSSxjQUFjLE9BQU07UUFDdEIsT0FBTyxRQUFRLE1BQUssUUFBUTtJQUM5QjtBQUNGIn0"],"names":["not","x1","isComponent","kind1","Args","precompileTemplate","strictMode","scope","listifyArgs","isIntrinsic","Type","isNamedTuple","Comment","templateOnly","info1","Array","isArray","children","length","flattened1","flattenArgs","type","declaration","console","warn","args1","named1","find","name","positional1","result1","push","elements","flat","getArgs","parameters","item1"],"mappings":";;;;;AAKA,MAAMA,GAAA,GAAOC,EAAU,IAAK,CAACA,EAAA;AAE7B,MAAMC,WAAA,GAAeC,KAAiC,IACpDA,KAAA,KAAS,WAAA;AAEX;;;;AAIaC,MAAAA,OAERC,oBAAAA,CAAAA,kBAAA,CA0BL,q0BAAA,EAAA;EAAAC,UAAA,EAAA,IAAA;AAAAC,EAAAA,KAAA,EAAAA,OAAA;IAAAC,WAAA;IAAAN,WAAA;IAAAO,WAAA;IAAAC,IAAA;IAAAC,YAAA;IAAAX,GAAA;AAAAY,IAAAA;AAAA,GAAA;AAAU,CAAA,CAAA,EAAAC,YAAA,EAAA;AAEV,SAASL,WAAAA,CAAYM,KAA2B,EAAM;AACpD,EAAA,IAAI,CAACA,KAAA,EAAM,OAAO,EAAE;AAEpB,EAAA,IAAIC,KAAA,CAAMC,OAAO,CAACF,KAAA,CAAO,EAAA;AACvB,IAAA,OAAOA,KAAA;AACT;AAEA;;;;EAIA,IAAI,UAAA,IAAcA,KAAA,IAAQC,KAAA,CAAMC,OAAO,CAACF,KAAA,CAAKG,QAAQ,CAAG,EAAA;AACtD,IAAA,IAAIH,KAAA,CAAKG,QAAQ,CAACC,MAAM,IAAI,CAAG,EAAA;AAC7B,MAAA,IAAIC,UAAA,GAAYC,WAAA,CAAYN,KAAA,CAAKG,QAAQ,CAAA;AAEzC,MAAA,IAAIE,UAAA,CAAUD,MAAM,GAAG,CAAG,EAAA;AACxB,QAAA,OAAOC,UAAA;AACT;AACF;IAEA,OAAOL,KAAA,CAAKG,QAAQ;AACtB;AAEA,EAAA,IAAIH,KAAA,CAAKO,IAAI,IAAI,iBAAiBP,KAAA,CAAKO,IAAI,IAAIP,KAAA,CAAKO,IAAI,CAACC,WAAW,EAAE;AACpE,IAAA,OAAOd,WAAA,CAAYM,KAAA,CAAKO,IAAI,CAACC,WAAW,CAAA;AAC1C;AAEA;AACAC,EAAAA,OAAA,CAAQC,IAAI,CAAC,WAAA,EAAaV,KAAA,CAAA;AAE1B,EAAA,OAAO,EAAE;AACX;AAEA,SAASM,WAAAA,CAAYK,KAAW,EAAM;EACpC,IAAIC,MAAA,GAAQD,KAAA,CAAKE,IAAI,CAAE1B,EAAA,IAAMA,EAAA,CAAE2B,IAAI,KAAK,OAAA,CAAA;EACxC,IAAIC,WAAA,GAAaJ,KAAA,CAAKE,IAAI,CAAE1B,EAAA,IAAMA,EAAA,CAAE2B,IAAI,KAAK,YAAA,CAAA;EAE7C,IAAIE,OAAA,GAAS,EAAE;AAEf,EAAA,IAAID,WAAA,EAAY;AACdC,IAAAA,OAAA,CAAOC,IAAI,CAACF,WAAA,CAAWR,IAAI,EAAEW,QAAA,CAAA;AAC/B;AAEA,EAAA,IAAIN,MAAA,EAAO;IACTI,OAAA,CAAOC,IAAI,CAACL,MAAA,CAAA;AACd;EAEA,OAAOI,OAAA,CAAOG,IAAI,EAAA;AACpB;AAEA;;;AAGO,SAASC,QAAQpB,KAAS,EAAA;EAC/B,IAAI,YAAA,IAAgBA,KAAA,EAAM;IACxB,OAAOA,KAAA,CAAKqB,UAAU;AACxB;AAEA,EAAA,IAAIpB,KAAA,CAAMC,OAAO,CAACF,KAAA,CAAO,EAAA;IACvB,OAAOA,KAAA,CAAKa,IAAI,CAAES,KAAA,IAASA,KAAA,CAAKR,IAAI,KAAK,MAAA,CAAA;AAC3C;EAEA,IAAI,UAAA,IAAcd,KAAA,EAAM;AACtB,IAAA,OAAOoB,OAAA,CAAQpB,KAAA,CAAKG,QAAQ,CAAA;AAC9B;AACF;;;;"}