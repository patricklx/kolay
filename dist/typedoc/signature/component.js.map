{"version":3,"file":"component.js","sources":["../../../src/typedoc/signature/component.gts"],"sourcesContent":["import { template } from \"@ember/template-compiler\";\nimport { Comment, Type } from '../renderer.gts';\nimport { findChildDeclaration, Load } from '../utils.gts';\nimport { Args } from './args.gts';\nimport { Element } from './element.gts';\nimport type { TOC } from '@ember/component/template-only';\nimport type { DeclarationReflection } from 'typedoc';\n// function lookupReference(reference: any, info: any) {\n//   let id = reference.target;\n//   let lookup = info.symbolIdMap[id];\n//   let fileName = lookup?.sourceFileName;\n//   let name = lookup?.qualifiedName;\n//   return findReferenceByFilename(name, fileName, info);\n// }\nfunction findReferenceByFilename(name1: string, fileName1: string, info1: any): any {\n    if (!info1.children) return;\n    for (let child1 of info1.children){\n        if (child1.sources[0].fileName === fileName1) {\n            return child1;\n        }\n        if (!child1.children) continue;\n        let isRelevant1 = child1.children.find((grandChild1: any)=>grandChild1.sources[0].fileName === fileName1);\n        if (isRelevant1) {\n            return isRelevant1;\n        }\n        let grand1 = findReferenceByFilename(name1, fileName1, child1);\n        if (grand1) return grand1;\n    }\n}\nfunction getSignatureType(info1: DeclarationReflection, doc1: any) {\n    /**\n   * export const Foo: TOC<{ signature here }> = <template> ... </template>\n   */ if (info1.type?.type === 'reference' && info1.type?.typeArguments?.[0]?.type === 'reflection') {\n        return info1.type.typeArguments[0].declaration;\n    }\n    /**\n   * export class Foo extends Component<{ signature here }> { ... }\n   */ if (info1.variant === 'declaration' && 'extendedTypes' in info1) {\n        let extendedType1 = info1.extendedTypes?.[0];\n        if (extendedType1?.type === 'reference' && extendedType1?.package === '@glimmer/component') {\n            let typeArg1 = extendedType1.typeArguments?.[0];\n            if (typeArg1?.type === 'reflection') {\n                return typeArg1.declaration;\n            }\n            if (typeArg1?.type === 'reference') {\n                if ('symbolIdMap' in doc1) {\n                    // This is hard, maybe typedoc has a util?\n                    return findReferenceByFilename(typeArg1.name, (extendedType1 as any).target.sourceFileName, doc1);\n                }\n            }\n        }\n    }\n    /**\n   * export interface Signature { ... }\n   */ return info1;\n}\nfunction getSignature(info1: DeclarationReflection, doc1: any) {\n    let type1 = getSignatureType(info1, doc1);\n    if (!type1) {\n        console.warn('Could not finde signature');\n        return;\n    }\n    return {\n        Element: findChildDeclaration(type1, 'Element'),\n        Args: findChildDeclaration(type1, 'Args'),\n        Blocks: findChildDeclaration(type1, 'Blocks')\n    };\n}\nexport const ComponentSignature: TOC<{\n    Args: {\n        /**\n     * Which module to import the type from\n     */ module: string;\n        /**\n     * The name of the component to render the type / JSDoc of\n     */ name: string;\n        /**\n     * The name of the package to lookup the module and export name.\n     */ package: string;\n    };\n}> = template(`\n  <Load\n    @package={{@package}}\n    @module={{@module}}\n    @name={{@name}}\n    as |declaration doc|\n  >\n    {{#let (getSignature declaration doc) as |info|}}\n      <Element @kind='component' @info={{info.Element}} />\n      <Args @kind='component' @info={{info.Args}} />\n      <Blocks @info={{info.Blocks}} />\n    {{/let}}\n  </Load>\n`, {\n    eval () {\n        return eval(arguments[0]);\n    }\n});\nconst Blocks: TOC<{\n    Args: {\n        info: any;\n    };\n}> = template(`\n  {{#if @info}}\n    <h3 class='typedoc__heading'>Blocks</h3>\n    {{#each @info.type.declaration.children as |child|}}\n      <span class='typedoc__component-signature__block'>\n        <pre class='typedoc__name'>&lt;:{{child.name}}&gt;</pre>\n        {{! <span class='typedoc-category'>Properties </span> }}\n        <div class='typedoc__property'>\n          <Type @info={{child.type}} />\n          <Comment @info={{child}} />\n        </div>\n      </span>\n    {{/each}}\n  {{/if}}\n`, {\n    eval () {\n        return eval(arguments[0]);\n    }\n});\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL2tvbGF5L2tvbGF5L3VpL3NyYy90eXBlZG9jL3NpZ25hdHVyZS9jb21wb25lbnQuZ3RzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbW1lbnQsIFR5cGUgfSBmcm9tICcuLi9yZW5kZXJlci5ndHMnO1xuaW1wb3J0IHsgZmluZENoaWxkRGVjbGFyYXRpb24sIExvYWQgfSBmcm9tICcuLi91dGlscy5ndHMnO1xuaW1wb3J0IHsgQXJncyB9IGZyb20gJy4vYXJncy5ndHMnO1xuaW1wb3J0IHsgRWxlbWVudCB9IGZyb20gJy4vZWxlbWVudC5ndHMnO1xuXG5pbXBvcnQgdHlwZSB7IFRPQyB9IGZyb20gJ0BlbWJlci9jb21wb25lbnQvdGVtcGxhdGUtb25seSc7XG5pbXBvcnQgdHlwZSB7IERlY2xhcmF0aW9uUmVmbGVjdGlvbiB9IGZyb20gJ3R5cGVkb2MnO1xuXG4vLyBmdW5jdGlvbiBsb29rdXBSZWZlcmVuY2UocmVmZXJlbmNlOiBhbnksIGluZm86IGFueSkge1xuLy8gICBsZXQgaWQgPSByZWZlcmVuY2UudGFyZ2V0O1xuLy8gICBsZXQgbG9va3VwID0gaW5mby5zeW1ib2xJZE1hcFtpZF07XG5cbi8vICAgbGV0IGZpbGVOYW1lID0gbG9va3VwPy5zb3VyY2VGaWxlTmFtZTtcbi8vICAgbGV0IG5hbWUgPSBsb29rdXA_LnF1YWxpZmllZE5hbWU7XG5cbi8vICAgcmV0dXJuIGZpbmRSZWZlcmVuY2VCeUZpbGVuYW1lKG5hbWUsIGZpbGVOYW1lLCBpbmZvKTtcbi8vIH1cblxuZnVuY3Rpb24gZmluZFJlZmVyZW5jZUJ5RmlsZW5hbWUoXG4gIG5hbWU6IHN0cmluZyxcbiAgZmlsZU5hbWU6IHN0cmluZyxcbiAgaW5mbzogYW55LFxuKTogYW55IHtcbiAgaWYgKCFpbmZvLmNoaWxkcmVuKSByZXR1cm47XG5cbiAgZm9yIChsZXQgY2hpbGQgb2YgaW5mby5jaGlsZHJlbikge1xuICAgIGlmIChjaGlsZC5zb3VyY2VzWzBdLmZpbGVOYW1lID09PSBmaWxlTmFtZSkge1xuICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH1cblxuICAgIGlmICghY2hpbGQuY2hpbGRyZW4pIGNvbnRpbnVlO1xuXG4gICAgbGV0IGlzUmVsZXZhbnQgPSBjaGlsZC5jaGlsZHJlbi5maW5kKFxuICAgICAgKGdyYW5kQ2hpbGQ6IGFueSkgPT4gZ3JhbmRDaGlsZC5zb3VyY2VzWzBdLmZpbGVOYW1lID09PSBmaWxlTmFtZSxcbiAgICApO1xuXG4gICAgaWYgKGlzUmVsZXZhbnQpIHtcbiAgICAgIHJldHVybiBpc1JlbGV2YW50O1xuICAgIH1cblxuICAgIGxldCBncmFuZCA9IGZpbmRSZWZlcmVuY2VCeUZpbGVuYW1lKG5hbWUsIGZpbGVOYW1lLCBjaGlsZCk7XG5cbiAgICBpZiAoZ3JhbmQpIHJldHVybiBncmFuZDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTaWduYXR1cmVUeXBlKGluZm86IERlY2xhcmF0aW9uUmVmbGVjdGlvbiwgZG9jOiBhbnkpIHtcbiAgLyoqXG4gICAqIGV4cG9ydCBjb25zdCBGb286IFRPQzx7IHNpZ25hdHVyZSBoZXJlIH0-ID0gPHRlbXBsYXRlPiAuLi4gPC90ZW1wbGF0ZT5cbiAgICovXG4gIGlmIChcbiAgICBpbmZvLnR5cGU_LnR5cGUgPT09ICdyZWZlcmVuY2UnICYmXG4gICAgaW5mby50eXBlPy50eXBlQXJndW1lbnRzPy5bMF0_LnR5cGUgPT09ICdyZWZsZWN0aW9uJ1xuICApIHtcbiAgICByZXR1cm4gaW5mby50eXBlLnR5cGVBcmd1bWVudHNbMF0uZGVjbGFyYXRpb247XG4gIH1cblxuICAvKipcbiAgICogZXhwb3J0IGNsYXNzIEZvbyBleHRlbmRzIENvbXBvbmVudDx7IHNpZ25hdHVyZSBoZXJlIH0-IHsgLi4uIH1cbiAgICovXG4gIGlmIChpbmZvLnZhcmlhbnQgPT09ICdkZWNsYXJhdGlvbicgJiYgJ2V4dGVuZGVkVHlwZXMnIGluIGluZm8pIHtcbiAgICBsZXQgZXh0ZW5kZWRUeXBlID0gaW5mby5leHRlbmRlZFR5cGVzPy5bMF07XG5cbiAgICBpZiAoXG4gICAgICBleHRlbmRlZFR5cGU_LnR5cGUgPT09ICdyZWZlcmVuY2UnICYmXG4gICAgICBleHRlbmRlZFR5cGU_LnBhY2thZ2UgPT09ICdAZ2xpbW1lci9jb21wb25lbnQnXG4gICAgKSB7XG4gICAgICBsZXQgdHlwZUFyZyA9IGV4dGVuZGVkVHlwZS50eXBlQXJndW1lbnRzPy5bMF07XG5cbiAgICAgIGlmICh0eXBlQXJnPy50eXBlID09PSAncmVmbGVjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVBcmcuZGVjbGFyYXRpb247XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlQXJnPy50eXBlID09PSAncmVmZXJlbmNlJykge1xuICAgICAgICBpZiAoJ3N5bWJvbElkTWFwJyBpbiBkb2MpIHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGhhcmQsIG1heWJlIHR5cGVkb2MgaGFzIGEgdXRpbD9cbiAgICAgICAgICByZXR1cm4gZmluZFJlZmVyZW5jZUJ5RmlsZW5hbWUoXG4gICAgICAgICAgICB0eXBlQXJnLm5hbWUsXG4gICAgICAgICAgICAoZXh0ZW5kZWRUeXBlIGFzIGFueSkudGFyZ2V0LnNvdXJjZUZpbGVOYW1lLFxuICAgICAgICAgICAgZG9jLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogZXhwb3J0IGludGVyZmFjZSBTaWduYXR1cmUgeyAuLi4gfVxuICAgKi9cbiAgcmV0dXJuIGluZm87XG59XG5cbmZ1bmN0aW9uIGdldFNpZ25hdHVyZShpbmZvOiBEZWNsYXJhdGlvblJlZmxlY3Rpb24sIGRvYzogYW55KSB7XG4gIGxldCB0eXBlID0gZ2V0U2lnbmF0dXJlVHlwZShpbmZvLCBkb2MpO1xuXG4gIGlmICghdHlwZSkge1xuICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGZpbmRlIHNpZ25hdHVyZScpO1xuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBFbGVtZW50OiBmaW5kQ2hpbGREZWNsYXJhdGlvbih0eXBlLCAnRWxlbWVudCcpLFxuICAgIEFyZ3M6IGZpbmRDaGlsZERlY2xhcmF0aW9uKHR5cGUsICdBcmdzJyksXG4gICAgQmxvY2tzOiBmaW5kQ2hpbGREZWNsYXJhdGlvbih0eXBlLCAnQmxvY2tzJyksXG4gIH07XG59XG5cbmV4cG9ydCBjb25zdCBDb21wb25lbnRTaWduYXR1cmU6IFRPQzx7XG4gIEFyZ3M6IHtcbiAgICAvKipcbiAgICAgKiBXaGljaCBtb2R1bGUgdG8gaW1wb3J0IHRoZSB0eXBlIGZyb21cbiAgICAgKi9cbiAgICBtb2R1bGU6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY29tcG9uZW50IHRvIHJlbmRlciB0aGUgdHlwZSAvIEpTRG9jIG9mXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBwYWNrYWdlIHRvIGxvb2t1cCB0aGUgbW9kdWxlIGFuZCBleHBvcnQgbmFtZS5cbiAgICAgKi9cbiAgICBwYWNrYWdlOiBzdHJpbmc7XG4gIH07XG59PiA9IDx0ZW1wbGF0ZT5cbiAgPExvYWRcbiAgICBAcGFja2FnZT17e0BwYWNrYWdlfX1cbiAgICBAbW9kdWxlPXt7QG1vZHVsZX19XG4gICAgQG5hbWU9e3tAbmFtZX19XG4gICAgYXMgfGRlY2xhcmF0aW9uIGRvY3xcbiAgPlxuICAgIHt7I2xldCAoZ2V0U2lnbmF0dXJlIGRlY2xhcmF0aW9uIGRvYykgYXMgfGluZm98fX1cbiAgICAgIDxFbGVtZW50IEBraW5kPSdjb21wb25lbnQnIEBpbmZvPXt7aW5mby5FbGVtZW50fX0gLz5cbiAgICAgIDxBcmdzIEBraW5kPSdjb21wb25lbnQnIEBpbmZvPXt7aW5mby5BcmdzfX0gLz5cbiAgICAgIDxCbG9ja3MgQGluZm89e3tpbmZvLkJsb2Nrc319IC8-XG4gICAge3svbGV0fX1cbiAgPC9Mb2FkPlxuPC90ZW1wbGF0ZT47XG5cbmNvbnN0IEJsb2NrczogVE9DPHsgQXJnczogeyBpbmZvOiBhbnkgfSB9PiA9IDx0ZW1wbGF0ZT5cbiAge3sjaWYgQGluZm99fVxuICAgIDxoMyBjbGFzcz0ndHlwZWRvY19faGVhZGluZyc-QmxvY2tzPC9oMz5cbiAgICB7eyNlYWNoIEBpbmZvLnR5cGUuZGVjbGFyYXRpb24uY2hpbGRyZW4gYXMgfGNoaWxkfH19XG4gICAgICA8c3BhbiBjbGFzcz0ndHlwZWRvY19fY29tcG9uZW50LXNpZ25hdHVyZV9fYmxvY2snPlxuICAgICAgICA8cHJlIGNsYXNzPSd0eXBlZG9jX19uYW1lJz4mbHQ7Ont7Y2hpbGQubmFtZX19Jmd0OzwvcHJlPlxuICAgICAgICB7eyEgPHNwYW4gY2xhc3M9J3R5cGVkb2MtY2F0ZWdvcnknPlByb3BlcnRpZXMgPC9zcGFuPiB9fVxuICAgICAgICA8ZGl2IGNsYXNzPSd0eXBlZG9jX19wcm9wZXJ0eSc-XG4gICAgICAgICAgPFR5cGUgQGluZm89e3tjaGlsZC50eXBlfX0gLz5cbiAgICAgICAgICA8Q29tbWVudCBAaW5mbz17e2NoaWxkfX0gLz5cbiAgICAgICAgPC9kaXY-XG4gICAgICA8L3NwYW4-XG4gICAge3svZWFjaH19XG4gIHt7L2lmfX1cbjwvdGVtcGxhdGU-O1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxTQUFTLE9BQU8sRUFBRSxJQUFJLFFBQVEsa0JBQWtCO0FBQ2hELFNBQVMsb0JBQW9CLEVBQUUsSUFBSSxRQUFRLGVBQWU7QUFDMUQsU0FBUyxJQUFJLFFBQVEsYUFBYTtBQUNsQyxTQUFTLE9BQU8sUUFBUSxnQkFBZ0I7QUFFeEMsY0FBYyxHQUFHLFFBQVEsaUNBQWlDO0FBQzFELGNBQWMscUJBQXFCLFFBQVEsVUFBVTtBQUVyRCx3REFBd0Q7QUFDeEQsK0JBQStCO0FBQy9CLHVDQUF1QztBQUV2QywyQ0FBMkM7QUFDM0Msc0NBQXNDO0FBRXRDLDBEQUEwRDtBQUMxRCxJQUFJO0FBRUosU0FBUyx3QkFDUCxPQUFNLE1BQU0sRUFDWixXQUFVLE1BQU0sRUFDaEIsT0FBTSxHQUFHLEdBQ1IsR0FBRztJQUNKLElBQUksQ0FBQyxNQUFLLFFBQVEsRUFBRTtJQUVwQixLQUFLLElBQUksVUFBUyxNQUFLLFFBQVEsQ0FBRTtRQUMvQixJQUFJLE9BQU0sT0FBTyxDQUFDLEVBQUUsQ0FBQyxRQUFRLEtBQUssV0FBVTtZQUMxQyxPQUFPO1FBQ1Q7UUFFQSxJQUFJLENBQUMsT0FBTSxRQUFRLEVBQUU7UUFFckIsSUFBSSxjQUFhLE9BQU0sUUFBUSxDQUFDLElBQUksQ0FDbEMsQ0FBQyxhQUFZLEdBQUcsR0FBSyxZQUFXLE9BQU8sQ0FBQyxFQUFFLENBQUMsUUFBUSxLQUFLO1FBRzFELElBQUksYUFBWTtZQUNkLE9BQU87UUFDVDtRQUVBLElBQUksU0FBUSx3QkFBd0IsT0FBTSxXQUFVO1FBRXBELElBQUksUUFBTyxPQUFPO0lBQ3BCO0FBQ0Y7QUFFQSxTQUFTLGlCQUFpQixPQUFNLHFCQUFxQixFQUFFLE1BQUssR0FBRztJQUM3RDs7R0FFQyxHQUNELElBQ0UsTUFBSyxJQUFJLEVBQUUsU0FBUyxlQUNwQixNQUFLLElBQUksRUFBRSxlQUFlLENBQUMsRUFBRSxFQUFFLFNBQVMsY0FDeEM7UUFDQSxPQUFPLE1BQUssSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUMsV0FBVztJQUMvQztJQUVBOztHQUVDLEdBQ0QsSUFBSSxNQUFLLE9BQU8sS0FBSyxpQkFBaUIsbUJBQW1CLE9BQU07UUFDN0QsSUFBSSxnQkFBZSxNQUFLLGFBQWEsRUFBRSxDQUFDLEVBQUU7UUFFMUMsSUFDRSxlQUFjLFNBQVMsZUFDdkIsZUFBYyxZQUFZLHNCQUMxQjtZQUNBLElBQUksV0FBVSxjQUFhLGFBQWEsRUFBRSxDQUFDLEVBQUU7WUFFN0MsSUFBSSxVQUFTLFNBQVMsY0FBYztnQkFDbEMsT0FBTyxTQUFRLFdBQVc7WUFDNUI7WUFFQSxJQUFJLFVBQVMsU0FBUyxhQUFhO2dCQUNqQyxJQUFJLGlCQUFpQixNQUFLO29CQUN4QiwwQ0FBMEM7b0JBQzFDLE9BQU8sd0JBQ0wsU0FBUSxJQUFJLEVBQ1osQ0FBQyxpQkFBZ0IsR0FBRyxFQUFFLE1BQU0sQ0FBQyxjQUFjLEVBQzNDO2dCQUVKO1lBQ0Y7UUFDRjtJQUNGO0lBRUE7O0dBRUMsR0FDRCxPQUFPO0FBQ1Q7QUFFQSxTQUFTLGFBQWEsT0FBTSxxQkFBcUIsRUFBRSxNQUFLLEdBQUc7SUFDekQsSUFBSSxRQUFPLGlCQUFpQixPQUFNO0lBRWxDLElBQUksQ0FBQyxPQUFNO1FBQ1QsUUFBUSxJQUFJLENBQUM7UUFFYjtJQUNGO0lBRUEsT0FBTztRQUNMLFNBQVMscUJBQXFCLE9BQU07UUFDcEMsTUFBTSxxQkFBcUIsT0FBTTtRQUNqQyxRQUFRLHFCQUFxQixPQUFNO0lBQ3JDO0FBQ0Y7QUFFQSxPQUFPLE1BQU0sb0JBQW9CO0lBQy9CO1FBQ0U7O0tBRUMsR0FDRCxRQUFRLE1BQU07UUFDZDs7S0FFQyxHQUNELE1BQU0sTUFBTTtRQUNaOztLQUVDLEdBQ0QsU0FBUyxNQUFNOztLQUVkLFNBQVUsQ0FBQTs7Ozs7Ozs7Ozs7OztBQWFmLENBQUEsRUFBQTtJQUFBO1FBQUEsT0FBQSxLQUFBLFNBQUEsQ0FBQSxFQUFXO0lBQUQ7QUFBQSxHQUFFO0FBRVosTUFBTSxRQUFRO0lBQU07UUFBUSxNQUFNLEdBQUc7O0tBQVEsU0FBVSxDQUFBOzs7Ozs7Ozs7Ozs7OztBQWN2RCxDQUFBLEVBQUE7SUFBQTtRQUFBLE9BQUEsS0FBQSxTQUFBLENBQUEsRUFBVztJQUFEO0FBQUEifQ"],"names":["findReferenceByFilename","name1","fileName1","info1","children","child1","sources","fileName","isRelevant1","find","grandChild1","grand1","getSignatureType","doc1","type","typeArguments","declaration","variant","extendedType1","extendedTypes","package","typeArg1","name","target","sourceFileName","getSignature","type1","console","warn","Element","findChildDeclaration","Args","Blocks","ComponentSignature","precompileTemplate","strictMode","scope","Load","templateOnly","Type","Comment"],"mappings":"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"}